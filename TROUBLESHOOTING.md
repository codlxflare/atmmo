# Устранение неполадок

## Проблема: 404 ошибки на страницах (квартиры, карта и т.д.)

### Причина
GitHub Pages не поддерживает SPA (Single Page Application) роутинг по умолчанию. Когда пользователь переходит на `/apartments` или `/map`, сервер ищет физические файлы, которых нет.

### Решение
Добавлены файлы для поддержки SPA роутинга:
- `public/404.html` - перенаправляет все 404 на index.html
- Скрипт в `index.html` - восстанавливает правильные URL

### Проверка
После развертывания все страницы должны работать:
- https://codlxflare.github.io/atmmo/apartments
- https://codlxflare.github.io/atmmo/map
- https://codlxflare.github.io/atmmo/promotions

## Проблема: Белый экран при запуске build

### Причина
Белый экран обычно возникает из-за неправильных путей в собранном приложении. React приложение ищет файлы по неправильным путям.

### Решение

#### 1. Для локального тестирования
Убедитесь, что в `package.json` установлен правильный homepage:
```json
"homepage": "."
```

#### 2. Для GitHub Pages
Используйте автоматические скрипты развертывания:
- Windows: `deploy-github.bat`
- Linux/Mac: `deploy-github.sh`

Эти скрипты автоматически:
- Устанавливают правильный homepage для GitHub Pages
- Собирают проект
- Развертывают на GitHub Pages
- Восстанавливают homepage для локальной разработки

#### 3. Ручная проверка
1. Откройте консоль браузера (F12)
2. Проверьте ошибки в Network и Console вкладках
3. Убедитесь, что все файлы загружаются по правильным путям

### Проверка работы

#### Локально:
```bash
# Сборка
npm run build

# Запуск локального сервера
npx serve -s build
# или
serve -s build
```

#### На GitHub Pages:
1. Убедитесь, что ветка `gh-pages` создана
2. Проверьте настройки Pages в GitHub репозитории
3. Подождите несколько минут для обновления

### Частые ошибки

#### 1. "Failed to load resource"
- Проверьте пути в index.html
- Убедитесь, что homepage настроен правильно

#### 2. "Cannot GET /"
- Используйте `serve -s build` для SPA
- Или настройте сервер для обработки SPA роутинга

#### 3. "Module not found"
- Проверьте, что все зависимости установлены
- Пересоберите проект: `npm run build`

### Отладка

#### Проверка путей в index.html:
```html
<!-- Правильно для локального запуска -->
<script src="./static/js/main.xxx.js"></script>

<!-- Правильно для GitHub Pages -->
<script src="/your-repo/static/js/main.xxx.js"></script>
```

#### Проверка консоли браузера:
- Откройте Developer Tools (F12)
- Перейдите на вкладку Console
- Ищите ошибки JavaScript
- Перейдите на вкладку Network
- Проверьте, какие файлы не загружаются

### Быстрое решение

Если ничего не помогает:
1. Удалите папку `build`
2. Установите `"homepage": "."` в package.json
3. Пересоберите: `npm run build`
4. Запустите: `serve -s build`
